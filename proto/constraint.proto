syntax = "proto3";

package types;

option go_package = "github.com/vultisig/recipes/types";

// ConstraintType defines the type of constraint
enum ConstraintType {
  CONSTRAINT_TYPE_UNSPECIFIED = 0;
  CONSTRAINT_TYPE_FIXED = 1;
  CONSTRAINT_TYPE_MAX = 2;
  CONSTRAINT_TYPE_MIN = 3;
  CONSTRAINT_TYPE_MAGIC_CONSTANT = 4;
  CONSTRAINT_TYPE_ANY = 5;
  CONSTRAINT_TYPE_REGEXP = 6;
}

enum MagicConstant {
  UNSPECIFIED = 0;
  VULTISIG_TREASURY = 1;
  THORCHAIN_VAULT = 2;
  THORCHAIN_ROUTER = 3;
  MAYACHAIN_VAULT = 4;
  MAYACHAIN_ROUTER = 5;
  // Bridge routers - resolved dynamically
  LIFI_ROUTER = 6;
  // Native L2 bridge addresses (L1 side - on Ethereum)
  ARBITRUM_L1_GATEWAY = 7;
  OPTIMISM_L1_BRIDGE = 8;
  BASE_L1_BRIDGE = 9;
  // Native L2 bridge addresses (L2 side)
  ARBITRUM_L2_GATEWAY = 10;
  OPTIMISM_L2_BRIDGE = 11;
  BASE_L2_BRIDGE = 12;
}

// Constraint defines restrictions on a parameter
message Constraint {
  // Type of constraint (fixed, max, min, etc.)
  ConstraintType type = 1;

  // Value of the constraint (depends on Type)
  oneof value {
    string fixed_value = 2;
    string max_value = 3;
    string min_value = 4;
    MagicConstant magic_constant_value = 5;
    string regexp_value = 9;
  }

  // Additional metadata for the constraint
  string denominated_in = 6;
  string period = 7;
  bool required = 8;
}
